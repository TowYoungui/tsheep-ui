(function(u,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(u=typeof globalThis<"u"?globalThis:u||self,e(u["tsheep-ui"]={},u.Vue))})(this,function(u,e){"use strict";const C="",i=(t,s)=>{const n=t.__vccOpts||t;for(const[o,c]of s)n[o]=c;return n},_=i(Object.assign({name:"tyButton"},{props:{type:{type:String,default:""}},setup(t){const s=t,n=e.computed(()=>["ty-button",s.type==""?"":`ty-button-${s.type}`]);return(o,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(n))},[e.createElementVNode("button",null,[e.renderSlot(o.$slots,"default",{},void 0,!0)])],2))}}),[["__scopeId","data-v-25ffb706"]]);_.install=t=>{t.component(_.name,_)};const V={class:""},g=["value"],d=Object.assign({name:"tyInput"},{props:{modelValue:String|Number},emits:["update:modelValue"],setup(t,{emit:s}){const n=o=>{s("update:modelValue",o.target.value)};return(o,c)=>(e.openBlock(),e.createElementBlock("div",V,[e.createElementVNode("input",{type:"text",value:t.modelValue,onInput:n},null,40,g)]))}});d.install=t=>{t.component(d.name,d)};const L="",F="",$=t=>(e.pushScopeId("data-v-58c4a7f2"),t=t(),e.popScopeId(),t),S={class:"selector-input"},I={class:"placeholder",for:"input"},k=["value"],x=$(()=>e.createElementVNode("span",{class:"iconfont icon-s-xiajiantou"},null,-1)),m=i(Object.assign({name:"SelectorInput"},{props:{placeholder:{type:String,default:"请选择"},value:{type:String,default:""}},emits:["searchOptions"],setup(t,{emit:s}){const n=e.getCurrentInstance(),o=l=>{console.log(l.target.value),s("searchOptions",l.target.value)},c=l=>{console.log(`之前选中的option:${l}`);const a=n.refs.inputValue;a.value.length>0&&(a.value=l)};return(l,a)=>(e.openBlock(),e.createElementBlock("div",S,[e.createElementVNode("label",I,e.toDisplayString(t.placeholder),1),e.createElementVNode("input",{ref:"inputValue",type:"text",class:"input",value:t.value,onInput:a[0]||(a[0]=r=>o(r)),onFocus:a[1]||(a[1]=r=>o(r)),onBlur:a[2]||(a[2]=r=>c(t.value)),id:"input"},null,40,k),x]))}}),[["__scopeId","data-v-58c4a7f2"]]),z="",B={name:"NoDataTip"},b={class:"no-data-tip"};function v(t,s,n,o,c,l){return e.openBlock(),e.createElementBlock("div",b," - 没有搜索到数据 - ")}const y=i(B,[["render",v],["__scopeId","data-v-f720f1f5"]]),H="",E={class:"selector-menu"},N=["onClick"],h=i(Object.assign({name:"SelectorMenu",components:{NoDataTip:y}},{props:{data:{type:Array,default:()=>[{id:1,value:"1",text:"选项1"},{id:2,value:"2",text:"选项2"},{id:3,value:"3",text:"选项3"}]},searchValue:{type:String,default:""}},emits:["setItemValue"],setup(t,{emit:s}){const n=t,o=e.ref([]);function c(a){s("setItemValue",a)}const l=a=>{o.value=n.data.filter(r=>r.text.toLowerCase().includes(n.searchValue.toLowerCase()))};return e.onMounted(()=>{o.value=n.data}),e.watch(()=>n.searchValue,a=>{l()}),(a,r)=>(e.openBlock(),e.createElementBlock("div",E,[o.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(o.value,(f,T)=>(e.openBlock(),e.createElementBlock("div",{class:"menu-item",key:T,onClick:Q=>c(f)},e.toDisplayString(f.text),9,N))),128)):(e.openBlock(),e.createBlock(y,{key:1}))]))}}),[["__scopeId","data-v-edc6401e"]]),O={mounted(t){const s=t.querySelector(".selector-input"),n=t.querySelector(".selector-menu"),o=s.querySelector("input"),c=s.querySelector("label"),l=s.querySelector("span");o.addEventListener("focus",function(){c.style.display="none",l.className="iconfont icon-sousuo",setTimeout(()=>{n.style.display="block"},200)},!1),o.addEventListener("blur",function(){l.className="iconfont icon-s-xiajiantou",setTimeout(()=>{n.style.display="none",this.value.length===0&&(c.style.display="block")},200)},!1)}},Y="",j={class:"selector"},p=i(Object.assign({name:"tySelector",components:{SelectorInput:m,SelectorMenu:h}},{props:{placeholder:{type:String,default:""},data:{type:Array}},emits:["setItemValue"],setup(t,{emit:s}){const n=e.reactive({inputValue:"",searchValue:""}),o=r=>{n.inputValue=r.text,s("setItemValue",r.text)},c=r=>{n.searchValue=r},{inputValue:l,searchValue:a}=e.toRefs(n);return(r,f)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",j,[e.createVNode(m,{placeholder:t.placeholder,value:e.unref(l),onSearchOptions:c},null,8,["placeholder","value"]),e.createVNode(h,{data:t.data,onSetItemValue:o,searchValue:e.unref(a)},null,8,["data","searchValue"])])),[[e.unref(O)]])}}),[["__scopeId","data-v-16de97d0"]]);p.install=t=>{t.component(p.name,p)};const D={install:t=>{t.use(_),t.use(d),t.use(p)}};u.default=D,u.tyButton=_,u.tyInput=d,u.tySelector=p,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
